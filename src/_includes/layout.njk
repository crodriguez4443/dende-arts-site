<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ title }}</title>
    <link rel="stylesheet" href="/css/style.css">
    <link rel="stylesheet" href="/css/testimonials.css">
    <link rel="stylesheet" href="/css/contact.css">
    <link rel="stylesheet" href="/css/blog.css">
    <link rel="stylesheet" href="/css/pages.css"> 

    <!-- Primary font -->
    <link 
        rel="preload" 
        href="/fonts/DMSans-Variable.woff2" 
        as="font" 
        type="font/woff2" 
        crossorigin
    >

    <!-- load swell.js first -->

    <script src="https://cdn.jsdelivr.net/npm/swell-js@4.2.5/dist/swell.umd.min.js" defer></script>
    <!-- swell js integration -->
    <script>
        // Create a global initialization function
        window.initializeSwell = async function() {
            try {
                await swell.init('dendearts', 'pk_kWLyA4guBdwbH1pwBV32Dp7smCsqlIgK', {
                    useCamelCase: true,
                    cache: false
                });
                console.log('Swell initialized successfully');
                
                // Initialize cart after Swell is ready
                await initializeCart();
            } catch (error) {
                console.error('Swell initialization error:', error);
            }
        };
    </script>

    <!-- layout.njk -->
    <script>
        // Initialize cart function
        async function initializeCart() {
            try {
                const cart = await swell.cart.get();
                if (cart?.item_count) {
                    updateCartCount(cart.item_count);
                }
                console.log('Cart initialized:', cart);
            } catch (error) {
                console.error('Error initializing cart:', error);
            }
        }

        // Update cart count function
        function updateCartCount(count) {
            const cartCount = document.getElementById('cart-count');
            if (cartCount) {
                cartCount.textContent = count.toString();
                cartCount.style.display = count > 0 ? 'block' : 'none';
            }
        }

        // Call initialization when document is loaded
        document.addEventListener('DOMContentLoaded', function() {
            window.initializeSwell();
        });
    </script>
</head>
<body>
    <main>
        {{ content | safe }}
    </main>
    <footer class="footer main-grid">
        <div class="footer-top-content">
        <!-- Logo/Title Section -->
            <div class="footer-logo-link-container">
                {# {% image "src/img/dende-arts-logo.png", "dende arts logo", "logo-link", undefined, undefined, undefined, "eager" %} #}
                {% image "src/img/dende-logo-white.png", "dende arts logo", "footer-logo-link-lg", undefined, undefined, undefined, "eager" %}
            </div>
            <!-- Social Media Icons -->
            <div class="footer-social-large"> 
                <a href="https://www.instagram.com/dende_arts/" target="_blank" class="social-icon">
                    {% image "src/img/homepage/instagram-icon-white.png", "instagram logo", "instagram-logo", undefined, undefined, undefined %}
                </a>
                <a href="https://https://www.youtube.com/@Dendearts/videos" target="_blank" class="social-icon">
                    {% image "src/img/homepage/youtube-icon-white.png", "youtube logo", "youtube-logo", undefined, undefined, undefined %}
                </a>
                
            </div>
        </div>
        <div class="footer-bottom-content">

            <!-- Navigation Links -->
            <nav class="footer-nav">
                <a href="/">Home</a>
                <a href="/">About</a>
                <a href="/">Gear</a>
                <a href="/">Learn</a>
                <a href="/">Blog</a>
                <a href="/">Contact</a>
            </nav>

            <!-- Social Media Icons -->
            <div class="footer-social-small">
                <a href="https://www.instagram.com/dende_arts/" target="_blank" class="social-icon">
                    {% image "src/img/homepage/instagram-icon-white.png", "instagram logo", "instagram-logo", undefined, undefined, undefined %}
                </a>
                <a href="https://https://www.youtube.com/@Dendearts/videos" target="_blank" class="social-icon">
                    {% image "src/img/homepage/youtube-icon-white.png", "youtube logo", "youtube-logo", undefined, undefined, undefined %}
                </a>
                
            </div>
    
            <!-- Copyright -->
            <div class="footer-copyright">
                <p>Copyright Â© <span id="current-year"></span> Solstice Web Studio LLC | All Rights Reserved</p>
            </div>
        </div>
    </footer>

    <script src="/js/nav.js"></script>
    <!-- script to update copyright year -->
    <script>
        document.getElementById('current-year').textContent = new Date().getFullYear();
    </script>
    {# <script src="/js/testimonials-carousel.js"></script> #}
    {# <script src="js/ecommerce.js" defer></script> #}
</body>


</html>